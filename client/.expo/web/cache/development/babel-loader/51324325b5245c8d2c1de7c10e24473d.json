{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/edwardlam/Desktop/Mediconcen/client/components/AddConsultationForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport { body } from \"express-validator\";\n\nvar AddConsultationForm = function AddConsultationForm(_ref) {\n  var clin_id = _ref.clin_id,\n      setCreateConsultation = _ref.setCreateConsultation;\n\n  var _useState = useState({\n    clinic_id: clin_id,\n    doctor_name: \"\",\n    patient_name: \"\",\n    diagnosis: \"\",\n    medication: \"\",\n    consultation_fee: \"\",\n    datetime: \"\",\n    has_followup: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var clinic_id = formData.clinic_id,\n      doctor_name = formData.doctor_name,\n      patient_name = formData.patient_name,\n      diagnosis = formData.diagnosis,\n      medication = formData.medication,\n      consultation_fee = formData.consultation_fee,\n      datetime = formData.datetime,\n      has_followup = formData.has_followup;\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var formatDatetime = function formatDatetime(datetime) {\n    var len = datetime.length;\n\n    if (len === 4 || len === 7) {\n      return datetime + \"-\";\n    } else if (datetime.length === 10) {\n      return datetime + \" \";\n    } else if (datetime.length === 13) {\n      return datetime + \":\";\n    } else {\n      return datetime;\n    }\n  };\n\n  var createRecord = function createRecord() {\n    var config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    var body = JSON.stringify({\n      clinic_id: clinic_id,\n      doctor_name: doctor_name,\n      patient_name: patient_name,\n      diagnosis: diagnosis,\n      medication: medication,\n      consultation_fee: consultation_fee,\n      datetime: datetime,\n      has_followup: has_followup\n    });\n\n    (function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.post(\"http://localhost:5000/api/consultations\", body, config));\n\n            case 3:\n              setCreateConsultation(false);\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", setErrors(_context.t0.response.data.errors));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    })();\n  };\n\n  return React.createElement(KeyboardAwareScrollView, {\n    contentContainerStyle: styles.authForm,\n    resetScrollToCoords: {\n      x: 0,\n      y: 0\n    },\n    scrollEnabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Create Consultaion:\"), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Patient Name:\"), React.createElement(TextInput, {\n    style: styles.mediumFont,\n    placeholder: \"Please enter patient's name...\",\n    value: patient_name,\n    onChangeText: function onChangeText(text) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        patient_name: text\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"Doctor's Name:\"), React.createElement(TextInput, {\n    style: styles.mediumFont,\n    placeholder: \"Please enter doctor's name...\",\n    value: doctor_name,\n    onChangeText: function onChangeText(text) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        doctor_name: text\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"Diagnosis:\"), React.createElement(TextInput, {\n    style: styles.mediumFont,\n    placeholder: \"Please enter diagnosis...\",\n    value: diagnosis,\n    onChangeText: function onChangeText(text) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        diagnosis: text\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \"Prescribtion:\"), React.createElement(TextInput, {\n    style: styles.mediumFont,\n    placeholder: \"Please enter prescribed medication...\",\n    value: medication,\n    onChangeText: function onChangeText(text) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        medication: text\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"Consultation Fee:\"), React.createElement(TextInput, {\n    style: styles.mediumFont,\n    keyboardType: \"numeric\",\n    placeholder: \"Please enter consultation fee...\",\n    value: consultation_fee,\n    onChangeText: function onChangeText(text) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        consultation_fee: text\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, \"Date And Time:\"), React.createElement(TextInput, {\n    style: styles.mediumFont,\n    placeholder: \"Datetime format YYYY-MM-DD HH:MM...\",\n    value: datetime,\n    maxLength: 16,\n    onChangeText: function onChangeText(text) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        datetime: formatDatetime(text)\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.fieldTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, \"Has Follow-up?\"), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        has_followup: !has_followup\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, has_followup ? \"x\" : \"\")), React.createElement(TouchableOpacity, {\n    style: _objectSpread(_objectSpread({}, styles.button), {}, {\n      marginLeft: 0\n    }),\n    onPress: createRecord,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontSize: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, \"Create Record\")), errors.length > 0 && errors.map(function (error, index) {\n    return React.createElement(Text, {\n      key: index,\n      style: styles.errorMsg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, error.msg);\n  }), React.createElement(TouchableOpacity, {\n    style: _objectSpread(_objectSpread({}, styles.button), {}, {\n      marginLeft: 0,\n      backgroundColor: \"gray\"\n    }),\n    onPress: function onPress() {\n      setCreateConsultation(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontSize: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n};\n\nvar styles = StyleSheet.create({\n  button: {\n    backgroundColor: \"dodgerblue\",\n    color: \"white\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 200,\n    height: 45,\n    margin: 20\n  },\n  checkBox: {\n    width: 30,\n    height: 30,\n    fontSize: 18,\n    fontWeight: \"bold\",\n    borderColor: \"gray\",\n    borderWidth: 2\n  },\n  authForm: {\n    flex: 1,\n    paddingVertical: 20,\n    paddingLeft: 20,\n    paddingRight: 10,\n    paddingTop: 30\n  },\n  title: {\n    fontSize: 40,\n    fontWeight: \"bold\"\n  },\n  fieldTitle: {\n    fontSize: 30,\n    marginVertical: 20\n  },\n  mediumFont: {\n    fontSize: 20,\n    paddingVertical: 5\n  },\n  errorMsg: {\n    color: \"red\",\n    marginVertical: 10\n  }\n});\nexport default AddConsultationForm;","map":{"version":3,"sources":["/Users/edwardlam/Desktop/Mediconcen/client/components/AddConsultationForm.js"],"names":["axios","React","useState","KeyboardAwareScrollView","body","AddConsultationForm","clin_id","setCreateConsultation","clinic_id","doctor_name","patient_name","diagnosis","medication","consultation_fee","datetime","has_followup","formData","setFormData","errors","setErrors","formatDatetime","len","length","createRecord","config","headers","JSON","stringify","post","response","data","styles","authForm","x","y","title","fieldTitle","mediumFont","text","button","marginLeft","color","fontSize","map","error","index","errorMsg","msg","backgroundColor","StyleSheet","create","alignItems","justifyContent","width","height","margin","checkBox","fontWeight","borderColor","borderWidth","flex","paddingVertical","paddingLeft","paddingRight","paddingTop","marginVertical"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  ScrollView,\n  Text,\n  TouchableOpacity,\n  TextInput,\n} from \"react-native\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport { body } from \"express-validator\";\n\nconst AddConsultationForm = ({ clin_id, setCreateConsultation }) => {\n  const [formData, setFormData] = useState({\n    clinic_id: clin_id,\n    doctor_name: \"\",\n    patient_name: \"\",\n    diagnosis: \"\",\n    medication: \"\",\n    consultation_fee: \"\",\n    datetime: \"\",\n    has_followup: false,\n  });\n  const {\n    clinic_id,\n    doctor_name,\n    patient_name,\n    diagnosis,\n    medication,\n    consultation_fee,\n    datetime,\n    has_followup,\n  } = formData;\n\n  const [errors, setErrors] = useState([]);\n\n  const formatDatetime = (datetime) => {\n    let len = datetime.length;\n\n    if (len === 4 || len === 7) {\n      return datetime + \"-\";\n    } else if (datetime.length === 10) {\n      return datetime + \" \";\n    } else if (datetime.length === 13) {\n      return datetime + \":\";\n    } else {\n      return datetime;\n    }\n  };\n\n  const createRecord = () => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify({\n      clinic_id,\n      doctor_name,\n      patient_name,\n      diagnosis,\n      medication,\n      consultation_fee,\n      datetime,\n      has_followup,\n    });\n    (async () => {\n      try {\n        await axios.post(\n          \"http://localhost:5000/api/consultations\",\n          body,\n          config\n        );\n        //****************************** comes back with objec with msg key\n        setCreateConsultation(false); // back to Agenda...\n      } catch (err) {\n        return setErrors(err.response.data.errors);\n      }\n    })();\n  };\n\n  return (\n    <KeyboardAwareScrollView\n      contentContainerStyle={styles.authForm}\n      resetScrollToCoords={{ x: 0, y: 0 }}\n      scrollEnabled={true}\n    >\n      <ScrollView>\n        <Text style={styles.title}>Create Consultaion:</Text>\n\n        <Text style={styles.fieldTitle}>Patient Name:</Text>\n        <TextInput\n          style={styles.mediumFont}\n          placeholder=\"Please enter patient's name...\"\n          value={patient_name}\n          onChangeText={(text) =>\n            setFormData({ ...formData, patient_name: text })\n          }\n          // onSubmitEditing={() => {\n          //   doctorNameField.focus();\n          // }}\n        />\n        <Text style={styles.fieldTitle}>Doctor's Name:</Text>\n        <TextInput\n          // ref={(input) => {\n          //   doctorNameField = input;\n          // }}\n          style={styles.mediumFont}\n          placeholder=\"Please enter doctor's name...\"\n          value={doctor_name}\n          onChangeText={(text) =>\n            setFormData({ ...formData, doctor_name: text })\n          }\n          // onSubmitEditing={() => this.diagnosisField.focus()}\n        />\n        <Text style={styles.fieldTitle}>Diagnosis:</Text>\n        <TextInput\n          // ref={(input) => {\n          //   diagnosisField = input;\n          // }}\n          style={styles.mediumFont}\n          placeholder=\"Please enter diagnosis...\"\n          value={diagnosis}\n          onChangeText={(text) => setFormData({ ...formData, diagnosis: text })}\n          // onSubmitEditing={() => medicationField.focus()}\n        />\n        <Text style={styles.fieldTitle}>Prescribtion:</Text>\n        <TextInput\n          // ref={(input) => {\n          //   medicationField = input;\n          // }}\n          style={styles.mediumFont}\n          placeholder=\"Please enter prescribed medication...\"\n          value={medication}\n          onChangeText={(text) =>\n            setFormData({ ...formData, medication: text })\n          }\n          // onSubmitEditing={() => feeField.focus()}\n        />\n        <Text style={styles.fieldTitle}>Consultation Fee:</Text>\n        <TextInput\n          // ref={(input) => {\n          //   this.feeField = input;\n          // }}\n          style={styles.mediumFont}\n          keyboardType=\"numeric\"\n          placeholder=\"Please enter consultation fee...\"\n          value={consultation_fee}\n          onChangeText={(text) =>\n            setFormData({ ...formData, consultation_fee: text })\n          }\n          // onSubmitEditing={() => this.datetimeField.focus()}\n        />\n        <Text style={styles.fieldTitle}>Date And Time:</Text>\n        <TextInput\n          // ref={(input) => {\n          //   this.datetimeField = input;\n          // }}\n          style={styles.mediumFont}\n          // keyboardType=\"numeric\"\n          placeholder=\"Datetime format YYYY-MM-DD HH:MM...\"\n          value={datetime}\n          maxLength={16}\n          onChangeText={(text) =>\n            setFormData({ ...formData, datetime: formatDatetime(text) })\n          }\n          // onSubmitEditing={() => datetimeField.focus()}\n        />\n        <Text style={styles.fieldTitle}>Has Follow-up?</Text>\n\n        <TouchableOpacity\n          onPress={() =>\n            setFormData({ ...formData, has_followup: !has_followup })\n          }\n        >\n          <Text>{has_followup ? \"x\" : \"\"}</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity\n          style={{ ...styles.button, marginLeft: 0 }}\n          onPress={createRecord}\n        >\n          <Text style={{ color: \"white\", fontSize: 20 }}>Create Record</Text>\n        </TouchableOpacity>\n        {errors.length > 0 &&\n          errors.map((error, index) => {\n            return (\n              <Text key={index} style={styles.errorMsg}>\n                {error.msg}\n              </Text>\n            );\n          })}\n\n        <TouchableOpacity\n          style={{\n            ...styles.button,\n            marginLeft: 0,\n            backgroundColor: \"gray\",\n          }}\n          onPress={() => {\n            setCreateConsultation(false);\n          }}\n        >\n          <Text style={{ color: \"white\", fontSize: 20 }}>Cancel</Text>\n        </TouchableOpacity>\n      </ScrollView>\n    </KeyboardAwareScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: \"dodgerblue\",\n    color: \"white\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 200,\n    height: 45,\n    margin: 20,\n  },\n  checkBox: {\n    width: 30,\n    height: 30,\n    fontSize: 18,\n    fontWeight: \"bold\",\n    borderColor: \"gray\",\n    borderWidth: 2,\n  },\n\n  authForm: {\n    flex: 1,\n    paddingVertical: 20,\n    paddingLeft: 20,\n    paddingRight: 10,\n    paddingTop: 30,\n  },\n  title: {\n    fontSize: 40,\n    fontWeight: \"bold\",\n  },\n  fieldTitle: {\n    fontSize: 30,\n    marginVertical: 20,\n  },\n  mediumFont: {\n    fontSize: 20,\n    paddingVertical: 5,\n  },\n  errorMsg: {\n    color: \"red\",\n    marginVertical: 10,\n  },\n});\n\nexport default AddConsultationForm;\n"]},"metadata":{},"sourceType":"module"}